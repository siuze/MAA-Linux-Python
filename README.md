# MAA-Linux-Python

## 旨在寻求方法，通过Linux下的Python脚本运行MAA任务以实现：
 - 在无界面的Linux设备 + 一台安卓真机/模拟器下运行MAA
 - 能够对任务结果整理和截图，进行通知推送

## 目前已实现
 [x] 自动更新MAA版本和OTA
 [x] 运行MAA的常规任务（作战、基建、领取奖励等）  
 [x] 获取任务运行前后截图  
 [x] 获取基建入驻总览的截图（增加了一些自定义任务动作）  
 [x] 获取基建副手简报的截图（增加了一些自定义任务动作）  
 [x] 发送截图和日志到指定的请求地址实现通知消息  

## 

## 使用方法
### 1、下载MAA的linux发布版本，解压后放在某某路径（这一步是不是必须的我不知道，也许这个脚本面对空文件夹也能自动下载更新，我还没试过）
### 2、下载本项目源码
### 3、**修改源码文件夹`config-example`的名字为`config`**
### 4、阅读并修改`config`文件夹下的几个配置文件，task.yaml可以不动，但是**asst.yaml一定要自己配置好**

###

### 5、检查python的依赖包，我所用的是Python 3.10.13
```
loguru==0.7.2
PyYAML==6.0.1
Requests==2.31.0
```
### 6、添加MAA-core的共享库.so文件的存放路径到环境变量，在终端下输入
``` bash
export LD_LIBRARY_PATH=MAA的源码路径:$LD_LIBRARY_PATH
```
这一步可能不是必要的，我不确定
### 7、运行
```
python maa.py
```



## 	Q: 不是已经有Maa-Cli了吗？
Cli是用Rust写的，我不怎么会，所以就参照MAA官方的sample.py用python写了一下。  
毕竟目前Cli的输出结果如果要实现推送的话还是要外接一些东西的，而且暂时也没截图功能。所以想着干脆直接用python调API算了，也更好调试一些。   
我的代码水平很差，欢迎各种issue和pr。  
